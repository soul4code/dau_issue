"QUERY PLAN"
"[
  {
    ""Plan"": {
      ""Node Type"": ""Aggregate"",
      ""Strategy"": ""Sorted"",
      ""Partial Mode"": ""Simple"",
      ""Parallel Aware"": false,
      ""Async Capable"": false,
      ""Startup Cost"": 28561.03,
      ""Total Cost"": 28677.62,
      ""Plan Rows"": 366,
      ""Plan Width"": 20,
      ""Actual Startup Time"": 95.860,
      ""Actual Total Time"": 99.794,
      ""Actual Rows"": 6,
      ""Actual Loops"": 1,
      ""Output"": [""(((dau_issue_event_event.performed_at AT TIME ZONE 'UTC'::text))::date)"", ""count(DISTINCT dau_issue_event_event.user_id)"", ""count(DISTINCT CASE WHEN (first_activity.first_day < (((dau_issue_event_event.performed_at AT TIME ZONE 'UTC'::text))::date)) THEN dau_issue_event_event.user_id ELSE NULL::integer END)""],
      ""Group Key"": [""(((dau_issue_event_event.performed_at AT TIME ZONE 'UTC'::text))::date)""],
      ""Shared Hit Blocks"": 7661,
      ""Shared Read Blocks"": 0,
      ""Shared Dirtied Blocks"": 0,
      ""Shared Written Blocks"": 0,
      ""Local Hit Blocks"": 0,
      ""Local Read Blocks"": 0,
      ""Local Dirtied Blocks"": 0,
      ""Local Written Blocks"": 0,
      ""Temp Read Blocks"": 0,
      ""Temp Written Blocks"": 0,
      ""Plans"": [
        {
          ""Node Type"": ""Sort"",
          ""Parent Relationship"": ""Outer"",
          ""Parallel Aware"": false,
          ""Async Capable"": false,
          ""Startup Cost"": 28561.03,
          ""Total Cost"": 28576.90,
          ""Plan Rows"": 6349,
          ""Plan Width"": 20,
          ""Actual Startup Time"": 94.966,
          ""Actual Total Time"": 96.093,
          ""Actual Rows"": 6695,
          ""Actual Loops"": 1,
          ""Output"": [""(((dau_issue_event_event.performed_at AT TIME ZONE 'UTC'::text))::date)"", ""dau_issue_event_event.user_id"", ""first_activity.first_day"", ""dau_issue_event_event.performed_at""],
          ""Sort Key"": [""(((dau_issue_event_event.performed_at AT TIME ZONE 'UTC'::text))::date)""],
          ""Sort Method"": ""quicksort"",
          ""Sort Space Used"": 716,
          ""Sort Space Type"": ""Memory"",
          ""Shared Hit Blocks"": 7661,
          ""Shared Read Blocks"": 0,
          ""Shared Dirtied Blocks"": 0,
          ""Shared Written Blocks"": 0,
          ""Local Hit Blocks"": 0,
          ""Local Read Blocks"": 0,
          ""Local Dirtied Blocks"": 0,
          ""Local Written Blocks"": 0,
          ""Temp Read Blocks"": 0,
          ""Temp Written Blocks"": 0,
          ""Plans"": [
            {
              ""Node Type"": ""Hash Join"",
              ""Parent Relationship"": ""Outer"",
              ""Parallel Aware"": false,
              ""Async Capable"": false,
              ""Join Type"": ""Inner"",
              ""Startup Cost"": 17416.83,
              ""Total Cost"": 28160.01,
              ""Plan Rows"": 6349,
              ""Plan Width"": 20,
              ""Actual Startup Time"": 73.596,
              ""Actual Total Time"": 92.702,
              ""Actual Rows"": 6695,
              ""Actual Loops"": 1,
              ""Output"": [""((dau_issue_event_event.performed_at AT TIME ZONE 'UTC'::text))::date"", ""dau_issue_event_event.user_id"", ""first_activity.first_day"", ""dau_issue_event_event.performed_at""],
              ""Inner Unique"": true,
              ""Hash Cond"": ""(dau_issue_event_event.user_id = first_activity.user_id)"",
              ""Shared Hit Blocks"": 7661,
              ""Shared Read Blocks"": 0,
              ""Shared Dirtied Blocks"": 0,
              ""Shared Written Blocks"": 0,
              ""Local Hit Blocks"": 0,
              ""Local Read Blocks"": 0,
              ""Local Dirtied Blocks"": 0,
              ""Local Written Blocks"": 0,
              ""Temp Read Blocks"": 0,
              ""Temp Written Blocks"": 0,
              ""Plans"": [
                {
                  ""Node Type"": ""Bitmap Heap Scan"",
                  ""Parent Relationship"": ""Outer"",
                  ""Parallel Aware"": false,
                  ""Async Capable"": false,
                  ""Relation Name"": ""dau_issue_event_event"",
                  ""Schema"": ""public"",
                  ""Alias"": ""dau_issue_event_event"",
                  ""Startup Cost"": 149.50,
                  ""Total Cost"": 10844.26,
                  ""Plan Rows"": 6349,
                  ""Plan Width"": 12,
                  ""Actual Startup Time"": 4.224,
                  ""Actual Total Time"": 20.124,
                  ""Actual Rows"": 6695,
                  ""Actual Loops"": 1,
                  ""Output"": [""dau_issue_event_event.id"", ""dau_issue_event_event.user_id"", ""dau_issue_event_event.course_id"", ""dau_issue_event_event.kind"", ""dau_issue_event_event.performed_at"", ""dau_issue_event_event.properties""],
                  ""Recheck Cond"": ""((dau_issue_event_event.performed_at >= '2025-11-26 04:00:00+04'::timestamp with time zone) AND (dau_issue_event_event.performed_at <= '2025-12-02 05:44:12.717183+04'::timestamp with time zone))"",
                  ""Rows Removed by Index Recheck"": 0,
                  ""Exact Heap Blocks"": 5196,
                  ""Lossy Heap Blocks"": 0,
                  ""Shared Hit Blocks"": 5279,
                  ""Shared Read Blocks"": 0,
                  ""Shared Dirtied Blocks"": 0,
                  ""Shared Written Blocks"": 0,
                  ""Local Hit Blocks"": 0,
                  ""Local Read Blocks"": 0,
                  ""Local Dirtied Blocks"": 0,
                  ""Local Written Blocks"": 0,
                  ""Temp Read Blocks"": 0,
                  ""Temp Written Blocks"": 0,
                  ""Plans"": [
                    {
                      ""Node Type"": ""Bitmap Index Scan"",
                      ""Parent Relationship"": ""Outer"",
                      ""Parallel Aware"": false,
                      ""Async Capable"": false,
                      ""Index Name"": ""dau_issue_event_event_performed_at_5ca89629"",
                      ""Startup Cost"": 0.00,
                      ""Total Cost"": 147.91,
                      ""Plan Rows"": 6349,
                      ""Plan Width"": 0,
                      ""Actual Startup Time"": 3.111,
                      ""Actual Total Time"": 3.111,
                      ""Actual Rows"": 6774,
                      ""Actual Loops"": 1,
                      ""Index Cond"": ""((dau_issue_event_event.performed_at >= '2025-11-26 04:00:00+04'::timestamp with time zone) AND (dau_issue_event_event.performed_at <= '2025-12-02 05:44:12.717183+04'::timestamp with time zone))"",
                      ""Shared Hit Blocks"": 24,
                      ""Shared Read Blocks"": 0,
                      ""Shared Dirtied Blocks"": 0,
                      ""Shared Written Blocks"": 0,
                      ""Local Hit Blocks"": 0,
                      ""Local Read Blocks"": 0,
                      ""Local Dirtied Blocks"": 0,
                      ""Local Written Blocks"": 0,
                      ""Temp Read Blocks"": 0,
                      ""Temp Written Blocks"": 0
                    }
                  ]
                },
                {
                  ""Node Type"": ""Hash"",
                  ""Parent Relationship"": ""Inner"",
                  ""Parallel Aware"": false,
                  ""Async Capable"": false,
                  ""Startup Cost"": 17143.62,
                  ""Total Cost"": 17143.62,
                  ""Plan Rows"": 9897,
                  ""Plan Width"": 8,
                  ""Actual Startup Time"": 69.025,
                  ""Actual Total Time"": 69.099,
                  ""Actual Rows"": 10000,
                  ""Actual Loops"": 1,
                  ""Output"": [""first_activity.first_day"", ""first_activity.user_id""],
                  ""Hash Buckets"": 16384,
                  ""Original Hash Buckets"": 16384,
                  ""Hash Batches"": 1,
                  ""Original Hash Batches"": 1,
                  ""Peak Memory Usage"": 519,
                  ""Shared Hit Blocks"": 2382,
                  ""Shared Read Blocks"": 0,
                  ""Shared Dirtied Blocks"": 0,
                  ""Shared Written Blocks"": 0,
                  ""Local Hit Blocks"": 0,
                  ""Local Read Blocks"": 0,
                  ""Local Dirtied Blocks"": 0,
                  ""Local Written Blocks"": 0,
                  ""Temp Read Blocks"": 0,
                  ""Temp Written Blocks"": 0,
                  ""Plans"": [
                    {
                      ""Node Type"": ""Subquery Scan"",
                      ""Parent Relationship"": ""Outer"",
                      ""Parallel Aware"": false,
                      ""Async Capable"": false,
                      ""Alias"": ""first_activity"",
                      ""Startup Cost"": 16896.19,
                      ""Total Cost"": 17143.62,
                      ""Plan Rows"": 9897,
                      ""Plan Width"": 8,
                      ""Actual Startup Time"": 63.521,
                      ""Actual Total Time"": 67.258,
                      ""Actual Rows"": 10000,
                      ""Actual Loops"": 1,
                      ""Output"": [""first_activity.first_day"", ""first_activity.user_id""],
                      ""Shared Hit Blocks"": 2382,
                      ""Shared Read Blocks"": 0,
                      ""Shared Dirtied Blocks"": 0,
                      ""Shared Written Blocks"": 0,
                      ""Local Hit Blocks"": 0,
                      ""Local Read Blocks"": 0,
                      ""Local Dirtied Blocks"": 0,
                      ""Local Written Blocks"": 0,
                      ""Temp Read Blocks"": 0,
                      ""Temp Written Blocks"": 0,
                      ""Plans"": [
                        {
                          ""Node Type"": ""Aggregate"",
                          ""Strategy"": ""Hashed"",
                          ""Partial Mode"": ""Finalize"",
                          ""Parent Relationship"": ""Subquery"",
                          ""Parallel Aware"": false,
                          ""Async Capable"": false,
                          ""Startup Cost"": 16896.19,
                          ""Total Cost"": 17044.65,
                          ""Plan Rows"": 9897,
                          ""Plan Width"": 8,
                          ""Actual Startup Time"": 63.520,
                          ""Actual Total Time"": 66.003,
                          ""Actual Rows"": 10000,
                          ""Actual Loops"": 1,
                          ""Output"": [""dau_issue_event_event_1.user_id"", ""((min(dau_issue_event_event_1.performed_at) AT TIME ZONE 'UTC'::text))::date""],
                          ""Group Key"": [""dau_issue_event_event_1.user_id""],
                          ""Planned Partitions"": 0,
                          ""HashAgg Batches"": 1,
                          ""Peak Memory Usage"": 1425,
                          ""Disk Usage"": 0,
                          ""Shared Hit Blocks"": 2382,
                          ""Shared Read Blocks"": 0,
                          ""Shared Dirtied Blocks"": 0,
                          ""Shared Written Blocks"": 0,
                          ""Local Hit Blocks"": 0,
                          ""Local Read Blocks"": 0,
                          ""Local Dirtied Blocks"": 0,
                          ""Local Written Blocks"": 0,
                          ""Temp Read Blocks"": 0,
                          ""Temp Written Blocks"": 0,
                          ""Plans"": [
                            {
                              ""Node Type"": ""Gather"",
                              ""Parent Relationship"": ""Outer"",
                              ""Parallel Aware"": false,
                              ""Async Capable"": false,
                              ""Startup Cost"": 1000.42,
                              ""Total Cost"": 16797.22,
                              ""Plan Rows"": 19794,
                              ""Plan Width"": 12,
                              ""Actual Startup Time"": 0.562,
                              ""Actual Total Time"": 58.789,
                              ""Actual Rows"": 10153,
                              ""Actual Loops"": 1,
                              ""Output"": [""dau_issue_event_event_1.user_id"", ""(PARTIAL min(dau_issue_event_event_1.performed_at))""],
                              ""Workers Planned"": 2,
                              ""Workers Launched"": 2,
                              ""Single Copy"": false,
                              ""Shared Hit Blocks"": 2382,
                              ""Shared Read Blocks"": 0,
                              ""Shared Dirtied Blocks"": 0,
                              ""Shared Written Blocks"": 0,
                              ""Local Hit Blocks"": 0,
                              ""Local Read Blocks"": 0,
                              ""Local Dirtied Blocks"": 0,
                              ""Local Written Blocks"": 0,
                              ""Temp Read Blocks"": 0,
                              ""Temp Written Blocks"": 0,
                              ""Plans"": [
                                {
                                  ""Node Type"": ""Aggregate"",
                                  ""Strategy"": ""Sorted"",
                                  ""Partial Mode"": ""Partial"",
                                  ""Parent Relationship"": ""Outer"",
                                  ""Parallel Aware"": false,
                                  ""Async Capable"": false,
                                  ""Startup Cost"": 0.42,
                                  ""Total Cost"": 13817.82,
                                  ""Plan Rows"": 9897,
                                  ""Plan Width"": 12,
                                  ""Actual Startup Time"": 0.142,
                                  ""Actual Total Time"": 51.522,
                                  ""Actual Rows"": 3384,
                                  ""Actual Loops"": 3,
                                  ""Output"": [""dau_issue_event_event_1.user_id"", ""PARTIAL min(dau_issue_event_event_1.performed_at)""],
                                  ""Group Key"": [""dau_issue_event_event_1.user_id""],
                                  ""Shared Hit Blocks"": 2382,
                                  ""Shared Read Blocks"": 0,
                                  ""Shared Dirtied Blocks"": 0,
                                  ""Shared Written Blocks"": 0,
                                  ""Local Hit Blocks"": 0,
                                  ""Local Read Blocks"": 0,
                                  ""Local Dirtied Blocks"": 0,
                                  ""Local Written Blocks"": 0,
                                  ""Temp Read Blocks"": 0,
                                  ""Temp Written Blocks"": 0,
                                  ""Workers"": [
                                    {
                                      ""Worker Number"": 0,
                                      ""Actual Startup Time"": 0.108,
                                      ""Actual Total Time"": 49.436,
                                      ""Actual Rows"": 3216,
                                      ""Actual Loops"": 1,
                                      ""Shared Hit Blocks"": 753,
                                      ""Shared Read Blocks"": 0,
                                      ""Shared Dirtied Blocks"": 0,
                                      ""Shared Written Blocks"": 0,
                                      ""Local Hit Blocks"": 0,
                                      ""Local Read Blocks"": 0,
                                      ""Local Dirtied Blocks"": 0,
                                      ""Local Written Blocks"": 0,
                                      ""Temp Read Blocks"": 0,
                                      ""Temp Written Blocks"": 0
                                    },
                                    {
                                      ""Worker Number"": 1,
                                      ""Actual Startup Time"": 0.229,
                                      ""Actual Total Time"": 49.390,
                                      ""Actual Rows"": 3263,
                                      ""Actual Loops"": 1,
                                      ""Shared Hit Blocks"": 772,
                                      ""Shared Read Blocks"": 0,
                                      ""Shared Dirtied Blocks"": 0,
                                      ""Shared Written Blocks"": 0,
                                      ""Local Hit Blocks"": 0,
                                      ""Local Read Blocks"": 0,
                                      ""Local Dirtied Blocks"": 0,
                                      ""Local Written Blocks"": 0,
                                      ""Temp Read Blocks"": 0,
                                      ""Temp Written Blocks"": 0
                                    }
                                  ],
                                  ""Plans"": [
                                    {
                                      ""Node Type"": ""Index Only Scan"",
                                      ""Parent Relationship"": ""Outer"",
                                      ""Parallel Aware"": true,
                                      ""Async Capable"": false,
                                      ""Scan Direction"": ""Forward"",
                                      ""Index Name"": ""dau_issue_e_user_id_9c8b99_idx"",
                                      ""Relation Name"": ""dau_issue_event_event"",
                                      ""Schema"": ""public"",
                                      ""Alias"": ""dau_issue_event_event_1"",
                                      ""Startup Cost"": 0.42,
                                      ""Total Cost"": 12865.07,
                                      ""Plan Rows"": 170757,
                                      ""Plan Width"": 12,
                                      ""Actual Startup Time"": 0.120,
                                      ""Actual Total Time"": 36.350,
                                      ""Actual Rows"": 136605,
                                      ""Actual Loops"": 3,
                                      ""Output"": [""dau_issue_event_event_1.user_id"", ""dau_issue_event_event_1.performed_at""],
                                      ""Heap Fetches"": 248,
                                      ""Shared Hit Blocks"": 2382,
                                      ""Shared Read Blocks"": 0,
                                      ""Shared Dirtied Blocks"": 0,
                                      ""Shared Written Blocks"": 0,
                                      ""Local Hit Blocks"": 0,
                                      ""Local Read Blocks"": 0,
                                      ""Local Dirtied Blocks"": 0,
                                      ""Local Written Blocks"": 0,
                                      ""Temp Read Blocks"": 0,
                                      ""Temp Written Blocks"": 0,
                                      ""Workers"": [
                                        {
                                          ""Worker Number"": 0,
                                          ""Actual Startup Time"": 0.087,
                                          ""Actual Total Time"": 35.389,
                                          ""Actual Rows"": 129567,
                                          ""Actual Loops"": 1,
                                          ""Shared Hit Blocks"": 753,
                                          ""Shared Read Blocks"": 0,
                                          ""Shared Dirtied Blocks"": 0,
                                          ""Shared Written Blocks"": 0,
                                          ""Local Hit Blocks"": 0,
                                          ""Local Read Blocks"": 0,
                                          ""Local Dirtied Blocks"": 0,
                                          ""Local Written Blocks"": 0,
                                          ""Temp Read Blocks"": 0,
                                          ""Temp Written Blocks"": 0
                                        },
                                        {
                                          ""Worker Number"": 1,
                                          ""Actual Startup Time"": 0.206,
                                          ""Actual Total Time"": 34.981,
                                          ""Actual Rows"": 131807,
                                          ""Actual Loops"": 1,
                                          ""Shared Hit Blocks"": 772,
                                          ""Shared Read Blocks"": 0,
                                          ""Shared Dirtied Blocks"": 0,
                                          ""Shared Written Blocks"": 0,
                                          ""Local Hit Blocks"": 0,
                                          ""Local Read Blocks"": 0,
                                          ""Local Dirtied Blocks"": 0,
                                          ""Local Written Blocks"": 0,
                                          ""Temp Read Blocks"": 0,
                                          ""Temp Written Blocks"": 0
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    ""Planning"": {
      ""Shared Hit Blocks"": 8,
      ""Shared Read Blocks"": 0,
      ""Shared Dirtied Blocks"": 0,
      ""Shared Written Blocks"": 0,
      ""Local Hit Blocks"": 0,
      ""Local Read Blocks"": 0,
      ""Local Dirtied Blocks"": 0,
      ""Local Written Blocks"": 0,
      ""Temp Read Blocks"": 0,
      ""Temp Written Blocks"": 0
    },
    ""Planning Time"": 1.102,
    ""Triggers"": [
    ],
    ""Execution Time"": 101.256
  }
]"
